[gd_scene load_steps=19 format=3 uid="uid://bd8r13w6qy4ya"]

[ext_resource type="Script" path="res://HUD.gd" id="1_op03q"]
[ext_resource type="Texture2D" uid="uid://bjnseb43okpxj" path="res://assets/parent/Parent.png" id="2_mn454"]
[ext_resource type="Texture2D" uid="uid://d4dlad8wuuer6" path="res://assets/baby/baby_climb.png" id="3_p1f1h"]
[ext_resource type="Texture2D" uid="uid://chjpxrwfju8fd" path="res://assets/baby/baby_crawl.png" id="4_l7dhf"]
[ext_resource type="Texture2D" uid="uid://btr8ogcotj3i5" path="res://assets/baby/baby_cry.png" id="5_qv5xf"]
[ext_resource type="Texture2D" uid="uid://bo77l62a8xn7o" path="res://assets/baby/baby_sit.png" id="6_fg8gu"]
[ext_resource type="Texture2D" uid="uid://cm62k50eb7pw4" path="res://assets/baby/baby_sleep.png" id="7_bllr0"]
[ext_resource type="Script" path="res://Baby.gd" id="8_ow01t"]
[ext_resource type="Script" path="res://PathFollow2D.gd" id="9_uyle3"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_6ohad"]
bg_color = Color(0.843137, 0.843137, 0.843137, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_w1ev7"]
bg_color = Color(0, 0.72549, 0.207843, 1)

[sub_resource type="Curve2D" id="Curve2D_2xjyt"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 183, 282, 0, 0, 0, 0, 50, 285, 0, 0, 0, 0, 52, 182, 0, 0, 0, 0, 127, 173, 0, 0, 0, 0, 126, 152)
}
point_count = 5

[sub_resource type="AtlasTexture" id="AtlasTexture_voe6q"]
atlas = ExtResource("3_p1f1h")
region = Rect2(0, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_5gnqf"]
atlas = ExtResource("4_l7dhf")
region = Rect2(0, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_7ey3a"]
atlas = ExtResource("5_qv5xf")
region = Rect2(0, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_u6nn0"]
atlas = ExtResource("6_fg8gu")
region = Rect2(0, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_0cnhe"]
atlas = ExtResource("7_bllr0")
region = Rect2(0, 0, 100, 100)

[sub_resource type="SpriteFrames" id="SpriteFrames_bw1xg"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_voe6q")
}],
"loop": true,
"name": &"climb",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5gnqf")
}],
"loop": true,
"name": &"crawl",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7ey3a")
}],
"loop": true,
"name": &"cry",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_u6nn0")
}],
"loop": true,
"name": &"sit",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0cnhe")
}],
"loop": true,
"name": &"sleep",
"speed": 5.0
}]

[node name="Node" type="Node"]

[node name="ColorRect" type="ColorRect" parent="."]
offset_right = 360.0
offset_bottom = 640.0

[node name="HUD" type="CanvasLayer" parent="."]
script = ExtResource("1_op03q")

[node name="ShhTimer" type="Timer" parent="HUD"]
one_shot = true

[node name="SleepDelay" type="Timer" parent="HUD"]
one_shot = true

[node name="Portrait" type="TextureRect" parent="HUD"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -178.0
offset_right = 92.0
grow_vertical = 0
texture = ExtResource("2_mn454")

[node name="StaminaBar" type="ProgressBar" parent="HUD"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -88.0
offset_top = -178.0
offset_right = -84.0
grow_horizontal = 2
grow_vertical = 0
theme_override_styles/background = SubResource("StyleBoxFlat_6ohad")
theme_override_styles/fill = SubResource("StyleBoxFlat_w1ev7")
value = 100.0
fill_mode = 3

[node name="SleepButton" type="Button" parent="HUD"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = 66.0
offset_top = -48.0
offset_right = 99.0
offset_bottom = -17.0
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 4
text = "Zzz"

[node name="ShhButton" type="Button" parent="HUD"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = 114.0
offset_top = -48.0
offset_right = 152.0
offset_bottom = -17.0
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 4
text = "Shh
"

[node name="WindowPath" type="Path2D" parent="."]
curve = SubResource("Curve2D_2xjyt")

[node name="FollowWindowPath" type="PathFollow2D" parent="WindowPath"]
position = Vector2(183, 282)
rotation = 3.11904
rotates = false
loop = false
script = ExtResource("9_uyle3")

[node name="Baby" type="AnimatedSprite2D" parent="WindowPath/FollowWindowPath"]
position = Vector2(-0.112747, 4.99872)
rotation = -3.11904
sprite_frames = SubResource("SpriteFrames_bw1xg")
animation = &"sit"
script = ExtResource("8_ow01t")

[connection signal="timeout" from="HUD/SleepDelay" to="HUD" method="_on_sleep_delay_timeout"]
[connection signal="timeout" from="HUD/SleepDelay" to="WindowPath/FollowWindowPath/Baby" method="_on_sleep_delay_timeout"]
[connection signal="button_down" from="HUD/SleepButton" to="HUD" method="_on_sleep_button_button_down"]
[connection signal="button_up" from="HUD/SleepButton" to="HUD" method="_on_sleep_button_button_up"]
[connection signal="button_up" from="HUD/SleepButton" to="WindowPath/FollowWindowPath/Baby" method="_on_sleep_button_button_up"]
[connection signal="pressed" from="HUD/ShhButton" to="HUD" method="_on_shh_button_pressed"]
[connection signal="pressed" from="HUD/ShhButton" to="WindowPath/FollowWindowPath/Baby" method="_on_shh_button_pressed"]
[connection signal="start_crying" from="WindowPath/FollowWindowPath/Baby" to="HUD" method="_on_baby_start_crying"]
[connection signal="stop_crying" from="WindowPath/FollowWindowPath/Baby" to="HUD" method="_on_baby_stop_crying"]
